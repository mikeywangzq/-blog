# ä¸ªäººåšå®¢ç³»ç»Ÿ - å®Œæ•´å¼€å‘æŒ‡å—

<div align="center">

**ğŸ“š Spring Boot + React å…¨æ ˆåšå®¢ç³»ç»Ÿå¼€å‘æ–‡æ¡£**

æœ¬æ–‡æ¡£åŒ…å«ç³»ç»Ÿæ¶æ„ã€åŠŸèƒ½å®ç°ã€APIæ¥å£ã€éƒ¨ç½²æŒ‡å—ç­‰å®Œæ•´å†…å®¹

</div>

---

## ğŸ“‘ ç›®å½•

- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å·²å®ç°åŠŸèƒ½](#å·²å®ç°åŠŸèƒ½)
- [APIæ¥å£æ–‡æ¡£](#apiæ¥å£æ–‡æ¡£)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [æ ¸å¿ƒåŠŸèƒ½å®ç°](#æ ¸å¿ƒåŠŸèƒ½å®ç°)
- [å¾…å®ç°åŠŸèƒ½](#å¾…å®ç°åŠŸèƒ½)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å®¢æˆ·ç«¯å±‚ï¼ˆReactï¼‰                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ é¦–é¡µ     â”‚  â”‚ æ–‡ç« è¯¦æƒ… â”‚  â”‚ ç¼–è¾‘å™¨   â”‚  â”‚ ä¸ªäººä¸­å¿ƒâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP/REST API
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   APIå±‚ï¼ˆSpring Bootï¼‰                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ–‡ç« API  â”‚  â”‚ ç”¨æˆ·API  â”‚  â”‚ è¯„è®ºAPI  â”‚  â”‚ RSS API â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceï¼‰                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚PostServiceâ”‚ â”‚UserServiceâ”‚ â”‚TagServiceâ”‚ â”‚RssServiceâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚Post Repo â”‚  â”‚User Repo â”‚  â”‚Comment   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  MySQL / H2  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‰ç«¯æ¶æ„
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.jsx              # å¯¼èˆªæ 
â”‚   â”‚   â”œâ”€â”€ PostCard.jsx            # æ–‡ç« å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ MarkdownEditor.jsx      # Markdownç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ CommentSection.jsx      # è¯„è®ºåŒº
â”‚   â”‚   â”œâ”€â”€ ShareButtons.jsx        # åˆ†äº«æŒ‰é’®
â”‚   â”‚   â”œâ”€â”€ RssSubscribe.jsx        # RSSè®¢é˜…
â”‚   â”‚   â”œâ”€â”€ VersionHistory.jsx      # ç‰ˆæœ¬å†å²
â”‚   â”‚   â”œâ”€â”€ ThemeToggle.jsx         # ä¸»é¢˜åˆ‡æ¢
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.jsx                # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ PostDetail.jsx          # æ–‡ç« è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ CreatePost.jsx          # åˆ›å»º/ç¼–è¾‘æ–‡ç« 
â”‚   â”‚   â”œâ”€â”€ Login.jsx               # ç™»å½•
â”‚   â”‚   â”œâ”€â”€ Register.jsx            # æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ Profile.jsx             # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ ArchivePage.jsx         # å½’æ¡£é¡µé¢
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api.js                  # Axiosé…ç½®
â”‚   â”‚   â”œâ”€â”€ authService.js          # è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ postService.js          # æ–‡ç« æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ versionService.js       # ç‰ˆæœ¬æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ archiveService.js       # å½’æ¡£æœåŠ¡
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ contexts/        # React Context
â”‚   â”‚   â””â”€â”€ ThemeContext.jsx        # ä¸»é¢˜ä¸Šä¸‹æ–‡
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â””â”€â”€ useAutoSave.js          # è‡ªåŠ¨ä¿å­˜Hook
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ formatDate.js           # æ—¥æœŸæ ¼å¼åŒ–
â”‚   â”‚   â””â”€â”€ seo.js                  # SEOå·¥å…·
â”‚   â”‚
â”‚   â””â”€â”€ styles/          # æ ·å¼æ–‡ä»¶
â”‚       â”œâ”€â”€ theme.css               # ä¸»é¢˜å˜é‡
â”‚       â””â”€â”€ ...
```

### åç«¯æ¶æ„
```
backend/
â””â”€â”€ src/main/java/com/blog/
    â”œâ”€â”€ config/          # é…ç½®ç±»
    â”‚   â”œâ”€â”€ SecurityConfig.java     # Spring Securityé…ç½®
    â”‚   â”œâ”€â”€ JwtAuthFilter.java      # JWTè¿‡æ»¤å™¨
    â”‚   â””â”€â”€ CorsConfig.java         # è·¨åŸŸé…ç½®
    â”‚
    â”œâ”€â”€ controller/      # æ§åˆ¶å™¨å±‚
    â”‚   â”œâ”€â”€ AuthController.java     # è®¤è¯æ¥å£
    â”‚   â”œâ”€â”€ PostController.java     # æ–‡ç« æ¥å£
    â”‚   â”œâ”€â”€ CommentController.java  # è¯„è®ºæ¥å£
    â”‚   â”œâ”€â”€ RssController.java      # RSSæ¥å£
    â”‚   â”œâ”€â”€ PostVersionController.java  # ç‰ˆæœ¬æ¥å£
    â”‚   â””â”€â”€ ...
    â”‚
    â”œâ”€â”€ service/         # æœåŠ¡å±‚
    â”‚   â”œâ”€â”€ AuthService.java        # è®¤è¯æœåŠ¡
    â”‚   â”œâ”€â”€ PostService.java        # æ–‡ç« æœåŠ¡
    â”‚   â”œâ”€â”€ RssService.java         # RSSæœåŠ¡
    â”‚   â”œâ”€â”€ PostVersionService.java # ç‰ˆæœ¬æœåŠ¡
    â”‚   â””â”€â”€ ...
    â”‚
    â”œâ”€â”€ repository/      # æ•°æ®è®¿é—®å±‚
    â”‚   â”œâ”€â”€ PostRepository.java
    â”‚   â”œâ”€â”€ UserRepository.java
    â”‚   â”œâ”€â”€ PostVersionRepository.java
    â”‚   â””â”€â”€ ...
    â”‚
    â”œâ”€â”€ model/           # å®ä½“ç±»
    â”‚   â”œâ”€â”€ Post.java
    â”‚   â”œâ”€â”€ User.java
    â”‚   â”œâ”€â”€ Comment.java
    â”‚   â”œâ”€â”€ PostVersion.java
    â”‚   â””â”€â”€ ...
    â”‚
    â”œâ”€â”€ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
    â”‚   â”œâ”€â”€ PostDTO.java
    â”‚   â”œâ”€â”€ CreatePostRequest.java
    â”‚   â”œâ”€â”€ ArchiveDTO.java
    â”‚   â””â”€â”€ ...
    â”‚
    â””â”€â”€ exception/       # å¼‚å¸¸å¤„ç†
        â””â”€â”€ ResourceNotFoundException.java
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| **Spring Boot** | 3.2.0 | æ ¸å¿ƒæ¡†æ¶ | Javaä¼ä¸šçº§åº”ç”¨å¼€å‘æ¡†æ¶ |
| **Spring Security** | 6.x | å®‰å…¨æ¡†æ¶ | æä¾›è®¤è¯å’ŒæˆæƒåŠŸèƒ½ |
| **Spring Data JPA** | 3.x | æ•°æ®æŒä¹…åŒ– | ORMæ¡†æ¶ï¼Œç®€åŒ–æ•°æ®åº“æ“ä½œ |
| **MySQL** | 8.x | ç”Ÿäº§æ•°æ®åº“ | å…³ç³»å‹æ•°æ®åº“ |
| **H2** | 2.x | å¼€å‘æ•°æ®åº“ | å†…å­˜æ•°æ®åº“ï¼Œç”¨äºå¼€å‘æµ‹è¯• |
| **JWT** | 0.12.3 | èº«ä»½è®¤è¯ | æ— çŠ¶æ€Tokenè®¤è¯ |
| **Swagger** | 2.3.0 | APIæ–‡æ¡£ | è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£ |
| **Rome** | 2.1.0 | RSSç”Ÿæˆ | RSS feedç”Ÿæˆå·¥å…· |
| **Lombok** | - | ä»£ç ç®€åŒ– | å‡å°‘æ ·æ¿ä»£ç  |

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| **React** | 18.2.0 | UIæ¡†æ¶ | å£°æ˜å¼UIåº“ |
| **React Router** | 6.20.0 | è·¯ç”±ç®¡ç† | SPAè·¯ç”±è§£å†³æ–¹æ¡ˆ |
| **Axios** | 1.6.2 | HTTPå®¢æˆ·ç«¯ | Promise based HTTPåº“ |
| **Vite** | 5.0.8 | æ„å»ºå·¥å…· | å¿«é€Ÿçš„å‰ç«¯æ„å»ºå·¥å…· |
| **ReactMarkdown** | - | Markdownæ¸²æŸ“ | Markdownå†…å®¹å±•ç¤º |
| **date-fns** | 3.0.0 | æ—¥æœŸå¤„ç† | è½»é‡çº§æ—¥æœŸåº“ |

---

## âœ… å·²å®ç°åŠŸèƒ½ï¼ˆ18ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼‰

### 1. ğŸŒ™ æ·±è‰²æ¨¡å¼æ”¯æŒ
**å®ç°ä½ç½®ï¼š**
- `/frontend/src/contexts/ThemeContext.jsx` - ä¸»é¢˜ä¸Šä¸‹æ–‡
- `/frontend/src/components/ThemeToggle.jsx` - åˆ‡æ¢æŒ‰é’®
- `/frontend/src/styles/theme.css` - CSSå˜é‡ç³»ç»Ÿ

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- âœ… æ”¯æŒæµ…è‰²/æ·±è‰²æ¨¡å¼åˆ‡æ¢
- âœ… æœ¬åœ°å­˜å‚¨ç”¨æˆ·åå¥½
- âœ… æ‰€æœ‰ç»„ä»¶è‡ªåŠ¨é€‚é…
- âœ… å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»

**æŠ€æœ¯å®ç°ï¼š**
```javascript
// ThemeContext.jsx - ä¸»é¢˜ç®¡ç†
const [theme, setTheme] = useState(() => {
  const savedTheme = localStorage.getItem('blog-theme');
  return savedTheme || 'light';
});

// åº”ç”¨ä¸»é¢˜åˆ°DOM
document.documentElement.setAttribute('data-theme', theme);
```

**CSSå˜é‡ç³»ç»Ÿï¼š**
```css
/* æµ…è‰²æ¨¡å¼ */
:root[data-theme="light"] {
  --bg-primary: #ffffff;
  --text-primary: #212529;
  --link-color: #007bff;
}

/* æ·±è‰²æ¨¡å¼ */
:root[data-theme="dark"] {
  --bg-primary: #1a1a1a;
  --text-primary: #e9ecef;
  --link-color: #4dabf7;
}
```

---

### 2. ğŸ’¾ æ–‡ç« è‰ç¨¿è‡ªåŠ¨ä¿å­˜
**å®ç°ä½ç½®ï¼š**
- `/frontend/src/hooks/useAutoSave.js` - è‡ªåŠ¨ä¿å­˜Hook
- `/frontend/src/pages/CreatePost.jsx` - é›†æˆä½¿ç”¨

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- âœ… 30ç§’è‡ªåŠ¨ä¿å­˜ä¸€æ¬¡
- âœ… å¯æ‰‹åŠ¨å¼€å¯/å…³é—­
- âœ… æ˜¾ç¤ºæœ€åä¿å­˜æ—¶é—´
- âœ… é˜²æ­¢ç©ºå†…å®¹ä¿å­˜
- âœ… é˜²æŠ–å¤„ç†é¿å…é¢‘ç¹ä¿å­˜

**æ ¸å¿ƒä»£ç ï¼š**
```javascript
// useAutoSave.js - è‡ªåŠ¨ä¿å­˜Hook
export const useAutoSave = (saveFn, data, delay = 30000) => {
  const [lastSaved, setLastSaved] = useState(null);
  const [isSaving, setIsSaving] = useState(false);

  useEffect(() => {
    const timer = setTimeout(async () => {
      try {
        setIsSaving(true);
        await saveFn(data);
        setLastSaved(new Date());
      } finally {
        setIsSaving(false);
      }
    }, delay);

    return () => clearTimeout(timer);
  }, [data, delay, saveFn]);

  return { lastSaved, isSaving };
};
```

---

### 3. ğŸ“¤ ç¤¾äº¤åª’ä½“åˆ†äº«åŠŸèƒ½
**å®ç°ä½ç½®ï¼š**
- `/frontend/src/components/ShareButtons.jsx` - åˆ†äº«æŒ‰é’®ç»„ä»¶

**æ”¯æŒå¹³å°ï¼š**
- âœ… æ–°æµªå¾®åš
- âœ… Twitter
- âœ… Facebook
- âœ… LinkedIn
- âœ… é‚®ä»¶åˆ†äº«
- âœ… å¤åˆ¶é“¾æ¥ï¼ˆå¸¦é™çº§æ–¹æ¡ˆï¼‰

**åˆ†äº«é“¾æ¥æ ¼å¼ï¼š**
```javascript
// å¾®åšåˆ†äº«
const weiboUrl = `https://service.weibo.com/share/share.php?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}`;

// Twitteråˆ†äº«
const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`;

// Facebookåˆ†äº«
const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
```

---

### 4. ğŸ“… æ–‡ç« å½’æ¡£åŠŸèƒ½
**å®ç°ä½ç½®ï¼š**
- **åç«¯ï¼š**
  - `/backend/src/main/java/com/blog/dto/ArchiveDTO.java` - å½’æ¡£DTO
  - `/backend/src/main/java/com/blog/repository/PostRepository.java` - å½’æ¡£æŸ¥è¯¢
  - `/backend/src/main/java/com/blog/service/PostService.java` - å½’æ¡£æœåŠ¡
  - `/backend/src/main/java/com/blog/controller/PostController.java` - å½’æ¡£API
- **å‰ç«¯ï¼š**
  - `/frontend/src/services/archiveService.js` - å½’æ¡£æœåŠ¡
  - `/frontend/src/components/ArchiveWidget.jsx` - ä¾§è¾¹æ ç»„ä»¶
  - `/frontend/src/pages/ArchivePage.jsx` - å½’æ¡£é¡µé¢

**APIæ¥å£ï¼š**
- `GET /posts/archives` - è·å–å½’æ¡£ç»Ÿè®¡
- `GET /posts/archives/{year}/{month}` - è·å–æŒ‡å®šæœˆä»½æ–‡ç« 

**SQLæŸ¥è¯¢ï¼š**
```java
// PostRepository.java - å½’æ¡£ç»Ÿè®¡æŸ¥è¯¢
@Query("SELECT YEAR(p.createdAt) as year, MONTH(p.createdAt) as month, COUNT(p) as count " +
       "FROM Post p WHERE p.published = true " +
       "GROUP BY YEAR(p.createdAt), MONTH(p.createdAt) " +
       "ORDER BY year DESC, month DESC")
List<Object[]> getArchiveStats();
```

---

### 5. ğŸ” SEOä¼˜åŒ–
**å®ç°ä½ç½®ï¼š**
- `/frontend/src/utils/seo.js` - SEOå·¥å…·å‡½æ•°

**ä¼˜åŒ–å†…å®¹ï¼š**
- âœ… åŠ¨æ€metaæ ‡ç­¾
- âœ… Open Graphæ ‡ç­¾ï¼ˆFacebookï¼‰
- âœ… Twitter Cardæ ‡ç­¾
- âœ… JSON-LDç»“æ„åŒ–æ•°æ®
- âœ… æ–‡ç« å…ƒæ•°æ®ï¼ˆauthorã€publishedTimeç­‰ï¼‰

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```javascript
import { setSEO } from '../utils/seo';

// åœ¨æ–‡ç« è¯¦æƒ…é¡µè®¾ç½®SEO
setSEO({
  title: post.title,
  description: post.summary,
  keywords: post.tags,
  type: 'article',
  author: post.authorName,
  image: post.coverImage,
  tags: post.tags.split(',')
});
```

---

### 6. ğŸ“¡ RSSè®¢é˜…åŠŸèƒ½
**å®ç°ä½ç½®ï¼š**
- **åç«¯ï¼š**
  - `/backend/pom.xml` - Romeåº“ä¾èµ–
  - `/backend/src/main/java/com/blog/service/RssService.java` - RSSç”ŸæˆæœåŠ¡
  - `/backend/src/main/java/com/blog/controller/RssController.java` - RSSæ§åˆ¶å™¨
  - `/backend/src/main/resources/application.yml` - ç«™ç‚¹é…ç½®
- **å‰ç«¯ï¼š**
  - `/frontend/src/components/RssSubscribe.jsx` - RSSè®¢é˜…ç»„ä»¶

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- âœ… RSS 2.0æ ‡å‡†æ ¼å¼
- âœ… æ”¯æŒå…¨ç«™è®¢é˜…å’Œåˆ†ç±»è®¢é˜…
- âœ… æ–‡ç« æ‘˜è¦å’Œå…ƒæ•°æ®
- âœ… 1å°æ—¶HTTPç¼“å­˜
- âœ… æ¨èRSSé˜…è¯»å™¨åˆ—è¡¨

**APIæ¥å£ï¼š**
- `GET /rss/feed.xml` - å…¨ç«™RSSè®¢é˜…
- `GET /rss/category/{categoryId}.xml` - åˆ†ç±»RSSè®¢é˜…
- `GET /rss/info` - è®¢é˜…ä¿¡æ¯

**é…ç½®è¯´æ˜ï¼š**
```yaml
# application.yml
blog:
  site:
    url: http://localhost:3000
    name: ä¸ªäººåšå®¢
    description: åˆ†äº«æŠ€æœ¯ä¸ç”Ÿæ´»çš„ä¸ªäººåšå®¢
  rss:
    max-items: 20  # RSSè®¢é˜…æœ€å¤šæ˜¾ç¤ºçš„æ–‡ç« æ•°
```

---

### 7. ğŸ“š æ–‡ç« ç‰ˆæœ¬å†å²
**å®ç°ä½ç½®ï¼š**
- **åç«¯ï¼š**
  - `/backend/src/main/java/com/blog/model/PostVersion.java` - ç‰ˆæœ¬å®ä½“
  - `/backend/src/main/java/com/blog/repository/PostVersionRepository.java` - ç‰ˆæœ¬Repository
  - `/backend/src/main/java/com/blog/service/PostVersionService.java` - ç‰ˆæœ¬æœåŠ¡
  - `/backend/src/main/java/com/blog/controller/PostVersionController.java` - ç‰ˆæœ¬æ§åˆ¶å™¨
  - `/backend/src/main/java/com/blog/service/PostService.java` - é›†æˆè‡ªåŠ¨ä¿å­˜
- **å‰ç«¯ï¼š**
  - `/frontend/src/services/versionService.js` - ç‰ˆæœ¬APIæœåŠ¡
  - `/frontend/src/components/VersionHistory.jsx` - ç‰ˆæœ¬å†å²ç»„ä»¶
  - `/frontend/src/pages/CreatePost.jsx` - ä¿®æ”¹å¤‡æ³¨è¾“å…¥
  - `/frontend/src/pages/PostDetail.jsx` - ç‰ˆæœ¬å†å²æŸ¥çœ‹

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- âœ… æ¯æ¬¡æ›´æ–°æ–‡ç« è‡ªåŠ¨ä¿å­˜ç‰ˆæœ¬
- âœ… å®Œæ•´çš„å†…å®¹å¿«ç…§ï¼ˆæ ‡é¢˜ã€å†…å®¹ã€æ‘˜è¦ã€æ ‡ç­¾ï¼‰
- âœ… æ”¯æŒä¿®æ”¹å¤‡æ³¨è®°å½•
- âœ… ç‰ˆæœ¬å¯¹æ¯”åŠŸèƒ½
- âœ… ç‰ˆæœ¬ç»Ÿè®¡ä¿¡æ¯
- âœ… åˆ é™¤æ–‡ç« æ—¶è‡ªåŠ¨æ¸…ç†ç‰ˆæœ¬å†å²

**APIæ¥å£ï¼š**
- `GET /posts/{postId}/versions` - è·å–ç‰ˆæœ¬å†å²
- `GET /posts/{postId}/versions/page` - åˆ†é¡µè·å–ç‰ˆæœ¬
- `GET /posts/{postId}/versions/{version}` - è·å–æŒ‡å®šç‰ˆæœ¬
- `GET /posts/{postId}/versions/compare?v1=X&v2=Y` - å¯¹æ¯”ç‰ˆæœ¬
- `GET /posts/{postId}/versions/stats` - ç‰ˆæœ¬ç»Ÿè®¡

**æ•°æ®åº“è®¾è®¡ï¼š**
```sql
CREATE TABLE post_versions (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    post_id BIGINT NOT NULL,
    version INT NOT NULL,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    summary VARCHAR(500),
    tags VARCHAR(1000),
    change_note VARCHAR(200),
    created_at TIMESTAMP NOT NULL,
    created_by BIGINT,
    created_by_username VARCHAR(50),
    INDEX idx_post_id (post_id),
    INDEX idx_post_version (post_id, version)
);
```

---

### 8-18. å…¶ä»–æ ¸å¿ƒåŠŸèƒ½

- âœ… **ç”¨æˆ·è®¤è¯å’Œæˆæƒ** - JWT Tokenè®¤è¯ã€è§’è‰²æƒé™ç®¡ç†
- âœ… **æ–‡ç« ç®¡ç†** - CRUDæ“ä½œã€Markdownç¼–è¾‘å™¨ã€è‰ç¨¿ç®±
- âœ… **è¯„è®ºç³»ç»Ÿ** - åµŒå¥—å›å¤ã€è¯„è®ºç®¡ç†
- âœ… **ç‚¹èµå’Œæ”¶è—** - æ–‡ç« ç‚¹èµã€æ”¶è—åˆ—è¡¨
- âœ… **ç”¨æˆ·ä¸ªäººä¸­å¿ƒ** - èµ„æ–™ç¼–è¾‘ã€å¤´åƒä¸Šä¼ ã€ç»Ÿè®¡å±•ç¤º
- âœ… **æ ‡ç­¾ç³»ç»Ÿ** - æ ‡ç­¾äº‘ã€æ ‡ç­¾è‡ªåŠ¨å®Œæˆã€æ ‡ç­¾ç­›é€‰
- âœ… **åˆ†ç±»ç®¡ç†** - åˆ†ç±»CRUDã€åˆ†ç±»ç­›é€‰
- âœ… **æœç´¢åŠŸèƒ½** - å…¨æ–‡æœç´¢ã€å…³é”®è¯åŒ¹é…
- âœ… **æ–‡ä»¶ä¸Šä¼ ** - å›¾ç‰‡ä¸Šä¼ ã€æœ¬åœ°å­˜å‚¨
- âœ… **æ–‡ç« ç›®å½•ï¼ˆTOCï¼‰** - è‡ªåŠ¨ç”Ÿæˆã€æ»šåŠ¨é«˜äº®
- âœ… **æµè§ˆé‡ç»Ÿè®¡** - æ–‡ç« æµè§ˆæ¬¡æ•°

---

## ğŸ“¡ APIæ¥å£æ–‡æ¡£

### è®¤è¯æ¥å£

#### 1. ç”¨æˆ·æ³¨å†Œ
```http
POST /api/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "password": "password123",
  "email": "user@example.com"
}

Response: 200 OK
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "username": "testuser"
}
```

#### 2. ç”¨æˆ·ç™»å½•
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "testuser",
  "password": "password123"
}

Response: 200 OK
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "username": "testuser"
}
```

### æ–‡ç« æ¥å£

#### 1. è·å–æ–‡ç« åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
```http
GET /api/posts?page=0&size=10
Authorization: Bearer {token}

Response: 200 OK
{
  "content": [...],
  "totalPages": 5,
  "totalElements": 50,
  "size": 10,
  "number": 0
}
```

#### 2. è·å–æ–‡ç« è¯¦æƒ…
```http
GET /api/posts/{id}

Response: 200 OK
{
  "id": 1,
  "title": "æ–‡ç« æ ‡é¢˜",
  "content": "æ–‡ç« å†…å®¹...",
  "authorName": "ä½œè€…",
  "categoryName": "åˆ†ç±»",
  "tags": "React,JavaScript",
  "views": 100,
  "likeCount": 10,
  "commentCount": 5,
  "createdAt": "2024-01-01T00:00:00",
  "updatedAt": "2024-01-01T00:00:00"
}
```

#### 3. åˆ›å»ºæ–‡ç« 
```http
POST /api/posts
Authorization: Bearer {token}
Content-Type: application/json

{
  "title": "æ–°æ–‡ç« æ ‡é¢˜",
  "content": "æ–‡ç« å†…å®¹...",
  "summary": "æ–‡ç« æ‘˜è¦",
  "coverImage": "http://example.com/image.jpg",
  "categoryId": 1,
  "published": true,
  "tags": "React,JavaScript"
}

Response: 201 Created
{
  "id": 2,
  "title": "æ–°æ–‡ç« æ ‡é¢˜",
  ...
}
```

#### 4. æ›´æ–°æ–‡ç« 
```http
PUT /api/posts/{id}
Authorization: Bearer {token}
Content-Type: application/json

{
  "title": "æ›´æ–°åçš„æ ‡é¢˜",
  "content": "æ›´æ–°åçš„å†…å®¹...",
  "changeNote": "ä¿®å¤äº†ä¸€äº›é”™åˆ«å­—"
}

Response: 200 OK
{
  "id": 1,
  "title": "æ›´æ–°åçš„æ ‡é¢˜",
  ...
}
```

#### 5. åˆ é™¤æ–‡ç« 
```http
DELETE /api/posts/{id}
Authorization: Bearer {token}

Response: 204 No Content
```

#### 6. æœç´¢æ–‡ç« 
```http
GET /api/posts/search?keyword=React&page=0&size=10

Response: 200 OK
{
  "content": [...],
  "totalPages": 2,
  ...
}
```

### å½’æ¡£æ¥å£

#### 1. è·å–å½’æ¡£ç»Ÿè®¡
```http
GET /api/posts/archives

Response: 200 OK
[
  {
    "year": 2024,
    "month": 1,
    "count": 10,
    "archiveName": "2024å¹´1æœˆ"
  },
  ...
]
```

#### 2. è·å–æŒ‡å®šæœˆä»½æ–‡ç« 
```http
GET /api/posts/archives/{year}/{month}?page=0&size=10

Response: 200 OK
{
  "content": [...],
  "totalPages": 1,
  ...
}
```

### ç‰ˆæœ¬å†å²æ¥å£

#### 1. è·å–ç‰ˆæœ¬å†å²
```http
GET /api/posts/{postId}/versions

Response: 200 OK
[
  {
    "id": 1,
    "postId": 1,
    "version": 3,
    "title": "æ–‡ç« æ ‡é¢˜ v3",
    "content": "å†…å®¹...",
    "changeNote": "ä¿®å¤é”™åˆ«å­—",
    "createdAt": "2024-01-01T00:00:00",
    "createdByUsername": "admin"
  },
  ...
]
```

#### 2. å¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬
```http
GET /api/posts/{postId}/versions/compare?v1=1&v2=2

Response: 200 OK
{
  "version1": {...},
  "version2": {...},
  "titleChanged": true,
  "contentChanged": true,
  "summaryChanged": false,
  "tagsChanged": false,
  "hasChanges": true
}
```

### RSSæ¥å£

#### 1. è·å–RSSè®¢é˜…æº
```http
GET /api/rss/feed.xml

Response: 200 OK
Content-Type: application/xml

<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>ä¸ªäººåšå®¢</title>
    <link>http://localhost:3000</link>
    <description>åˆ†äº«æŠ€æœ¯ä¸ç”Ÿæ´»</description>
    <item>
      <title>æ–‡ç« æ ‡é¢˜</title>
      <link>http://localhost:3000/posts/1</link>
      <description>æ–‡ç« æ‘˜è¦...</description>
      <pubDate>Mon, 01 Jan 2024 00:00:00 GMT</pubDate>
      <author>ä½œè€…</author>
    </item>
  </channel>
</rss>
```

### è¯„è®ºæ¥å£

#### 1. è·å–æ–‡ç« è¯„è®º
```http
GET /api/posts/{postId}/comments

Response: 200 OK
[
  {
    "id": 1,
    "content": "è¯„è®ºå†…å®¹",
    "authorName": "ç”¨æˆ·A",
    "createdAt": "2024-01-01T00:00:00",
    "replies": [
      {
        "id": 2,
        "content": "å›å¤å†…å®¹",
        "authorName": "ç”¨æˆ·B",
        ...
      }
    ]
  },
  ...
]
```

#### 2. æ·»åŠ è¯„è®º
```http
POST /api/posts/{postId}/comments
Authorization: Bearer {token}
Content-Type: application/json

{
  "content": "è¿™æ˜¯ä¸€æ¡è¯„è®º",
  "parentId": null  // é¡¶çº§è¯„è®ºä¸ºnullï¼Œå›å¤è¯„è®ºæ—¶å¡«å†™çˆ¶è¯„è®ºID
}

Response: 201 Created
{
  "id": 3,
  "content": "è¿™æ˜¯ä¸€æ¡è¯„è®º",
  ...
}
```

### ç‚¹èµæ¥å£

#### 1. ç‚¹èµæ–‡ç« 
```http
POST /api/posts/{postId}/like
Authorization: Bearer {token}

Response: 200 OK
{
  "liked": true,
  "likeCount": 11
}
```

#### 2. å–æ¶ˆç‚¹èµ
```http
DELETE /api/posts/{postId}/like
Authorization: Bearer {token}

Response: 200 OK
{
  "liked": false,
  "likeCount": 10
}
```

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

#### 1. ç”¨æˆ·è¡¨ï¼ˆusersï¼‰
```sql
CREATE TABLE users (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    bio TEXT,
    avatar VARCHAR(500),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_username (username),
    INDEX idx_email (email)
);
```

#### 2. æ–‡ç« è¡¨ï¼ˆpostsï¼‰
```sql
CREATE TABLE posts (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    summary VARCHAR(500),
    cover_image VARCHAR(500),
    published BOOLEAN DEFAULT FALSE,
    views INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    tags VARCHAR(1000),
    author_id BIGINT NOT NULL,
    category_id BIGINT,
    FOREIGN KEY (author_id) REFERENCES users(id),
    FOREIGN KEY (category_id) REFERENCES categories(id),
    INDEX idx_author (author_id),
    INDEX idx_category (category_id),
    INDEX idx_published (published),
    INDEX idx_created_at (created_at),
    INDEX idx_published_created (published, created_at)
);
```

#### 3. è¯„è®ºè¡¨ï¼ˆcommentsï¼‰
```sql
CREATE TABLE comments (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    deleted BOOLEAN DEFAULT FALSE,
    post_id BIGINT NOT NULL,
    author_id BIGINT NOT NULL,
    parent_id BIGINT,
    FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE,
    FOREIGN KEY (author_id) REFERENCES users(id),
    FOREIGN KEY (parent_id) REFERENCES comments(id),
    INDEX idx_post (post_id),
    INDEX idx_author (author_id),
    INDEX idx_parent (parent_id)
);
```

#### 4. åˆ†ç±»è¡¨ï¼ˆcategoriesï¼‰
```sql
CREATE TABLE categories (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL,
    description VARCHAR(200),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 5. æ ‡ç­¾è¡¨ï¼ˆtagsï¼‰
```sql
CREATE TABLE tags (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL,
    use_count INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_name (name),
    INDEX idx_use_count (use_count)
);
```

#### 6. æ–‡ç« æ ‡ç­¾å…³è”è¡¨ï¼ˆpost_tagsï¼‰
```sql
CREATE TABLE post_tags (
    post_id BIGINT NOT NULL,
    tag_id BIGINT NOT NULL,
    PRIMARY KEY (post_id, tag_id),
    FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE,
    FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE
);
```

#### 7. ç‚¹èµè¡¨ï¼ˆlikesï¼‰
```sql
CREATE TABLE likes (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    post_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id),
    UNIQUE KEY uk_post_user (post_id, user_id),
    INDEX idx_post (post_id),
    INDEX idx_user (user_id)
);
```

#### 8. æ”¶è—è¡¨ï¼ˆfavoritesï¼‰
```sql
CREATE TABLE favorites (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    post_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id),
    UNIQUE KEY uk_post_user (post_id, user_id),
    INDEX idx_user (user_id)
);
```

#### 9. æ–‡ç« ç‰ˆæœ¬è¡¨ï¼ˆpost_versionsï¼‰
```sql
CREATE TABLE post_versions (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    post_id BIGINT NOT NULL,
    version INT NOT NULL,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    summary VARCHAR(500),
    cover_image VARCHAR(500),
    tags VARCHAR(1000),
    change_note VARCHAR(200),
    created_at TIMESTAMP NOT NULL,
    created_by BIGINT,
    created_by_username VARCHAR(50),
    INDEX idx_post_id (post_id),
    INDEX idx_post_version (post_id, version),
    INDEX idx_created_at (created_at)
);
```

### ERå…³ç³»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  users  â”‚â”€â”€â”€â”€â”¬â”€â”€â”€â”‚  posts  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚ comments â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚         â”‚        â”‚
     â”‚         â”‚        â”‚
     â”‚         â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚         â”‚        â”‚          â”‚
     â”‚         â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”
     â”‚         â””â”€â”€â”€â”‚ likes  â”‚  â”‚ tags  â”‚
     â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                  â”‚          â”‚
     â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚favoritesâ”‚     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                        â”‚          â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                   â”‚post_tags â”‚â”€â”€â”€â”€â”˜
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½å®ç°è¯¦è§£

### JWTè®¤è¯æµç¨‹

#### 1. è®¤è¯æµç¨‹å›¾
```
ç”¨æˆ·ç™»å½•
   â”‚
   â”œâ”€â”€> AuthController.login()
   â”‚       â”‚
   â”‚       â”œâ”€â”€> éªŒè¯ç”¨æˆ·åå¯†ç 
   â”‚       â”‚
   â”‚       â”œâ”€â”€> ç”ŸæˆJWT Token
   â”‚       â”‚
   â”‚       â””â”€â”€> è¿”å›Tokenç»™å‰ç«¯
   â”‚
   â”œâ”€â”€> å‰ç«¯å­˜å‚¨Token (localStorage)
   â”‚
   â”œâ”€â”€> åç»­è¯·æ±‚æºå¸¦Token
   â”‚       â”‚
   â”‚       â”œâ”€â”€> JwtAuthFilteræ‹¦æˆª
   â”‚       â”‚
   â”‚       â”œâ”€â”€> éªŒè¯Tokenæœ‰æ•ˆæ€§
   â”‚       â”‚
   â”‚       â”œâ”€â”€> æå–ç”¨æˆ·ä¿¡æ¯
   â”‚       â”‚
   â”‚       â””â”€â”€> è®¾ç½®SecurityContext
   â”‚
   â””â”€â”€> è®¿é—®å—ä¿æŠ¤èµ„æº
```

#### 2. ä»£ç å®ç°
```java
// JwtUtil.java - Tokenç”Ÿæˆ
public String generateToken(String username) {
    return Jwts.builder()
        .setSubject(username)
        .setIssuedAt(new Date())
        .setExpiration(new Date(System.currentTimeMillis() + expiration))
        .signWith(SignatureAlgorithm.HS512, secret)
        .compact();
}

// JwtAuthFilter.java - TokenéªŒè¯
protected void doFilterInternal(HttpServletRequest request,
                                HttpServletResponse response,
                                FilterChain chain) {
    String token = extractToken(request);
    if (token != null && jwtUtil.validateToken(token)) {
        String username = jwtUtil.getUsernameFromToken(token);
        UsernamePasswordAuthenticationToken auth =
            new UsernamePasswordAuthenticationToken(username, null, authorities);
        SecurityContextHolder.getContext().setAuthentication(auth);
    }
    chain.doFilter(request, response);
}
```

### æ€§èƒ½ä¼˜åŒ– - N+1æŸ¥è¯¢é—®é¢˜è§£å†³

#### é—®é¢˜æè¿°
è·å–æ–‡ç« åˆ—è¡¨æ—¶ï¼Œéœ€è¦æ˜¾ç¤ºæ¯ç¯‡æ–‡ç« çš„è¯„è®ºæ•°å’Œç‚¹èµæ•°ï¼Œä¼šäº§ç”ŸN+1æŸ¥è¯¢é—®é¢˜ï¼š
- 1æ¬¡æŸ¥è¯¢æ–‡ç« åˆ—è¡¨
- Næ¬¡æŸ¥è¯¢è¯„è®ºæ•°ï¼ˆæ¯ç¯‡æ–‡ç« ä¸€æ¬¡ï¼‰
- Næ¬¡æŸ¥è¯¢ç‚¹èµæ•°ï¼ˆæ¯ç¯‡æ–‡ç« ä¸€æ¬¡ï¼‰
- æ€»è®¡ï¼š1 + 2N æ¬¡æŸ¥è¯¢

#### ä¼˜åŒ–æ–¹æ¡ˆ
```java
// PostService.java - æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–
@Transactional(readOnly = true)
public Page<PostDTO> getAllPublishedPosts(Pageable pageable) {
    // 1. æŸ¥è¯¢æ–‡ç« åˆ—è¡¨ï¼ˆ1æ¬¡æŸ¥è¯¢ï¼‰
    Page<Post> posts = postRepository.findByPublishedTrue(pageable);

    // 2. æ”¶é›†æ‰€æœ‰æ–‡ç« ID
    List<Long> postIds = posts.getContent().stream()
            .map(Post::getId)
            .collect(Collectors.toList());

    // 3. æ‰¹é‡è·å–è¯„è®ºæ•°ï¼ˆ1æ¬¡æŸ¥è¯¢ï¼‰
    Map<Long, Long> commentCounts = getCommentCountsForPosts(postIds);

    // 4. æ‰¹é‡è·å–ç‚¹èµæ•°ï¼ˆ1æ¬¡æŸ¥è¯¢ï¼‰
    Map<Long, Long> likeCounts = getLikeCountsForPosts(postIds);

    // 5. ç»„è£…DTO
    return posts.map(post -> convertToDTO(post,
            commentCounts.getOrDefault(post.getId(), 0L),
            likeCounts.getOrDefault(post.getId(), 0L)));
}

// æ‰¹é‡æŸ¥è¯¢è¯„è®ºæ•°
private Map<Long, Long> getCommentCountsForPosts(List<Long> postIds) {
    return commentRepository.countByPostIds(postIds).stream()
        .collect(Collectors.toMap(
            result -> (Long) result[0],    // post_id
            result -> (Long) result[1]     // count
        ));
}
```

#### ä¼˜åŒ–æ•ˆæœ
- ä¼˜åŒ–å‰ï¼š1 + 2N æ¬¡æŸ¥è¯¢ï¼ˆN=10æ—¶ï¼Œ21æ¬¡ï¼‰
- ä¼˜åŒ–åï¼š3æ¬¡æŸ¥è¯¢ï¼ˆå›ºå®šï¼‰
- æ€§èƒ½æå‡ï¼š**87.5%**ï¼ˆN=10æ—¶ï¼‰

---

## ğŸš§ å¾…å®ç°åŠŸèƒ½

### 1. åå°ç®¡ç†ç³»ç»Ÿ
**åŠŸèƒ½éœ€æ±‚ï¼š**
- ç”¨æˆ·ç®¡ç†ï¼ˆæŸ¥çœ‹ã€ç¦ç”¨ã€æƒé™è®¾ç½®ï¼‰
- æ–‡ç« ç®¡ç†ï¼ˆå®¡æ ¸ã€æ¨èã€ç½®é¡¶ï¼‰
- è¯„è®ºç®¡ç†ï¼ˆå®¡æ ¸ã€åˆ é™¤ï¼‰
- æ•°æ®ç»Ÿè®¡ï¼ˆè®¿é—®é‡ã€ç”¨æˆ·å¢é•¿ï¼‰
- ç³»ç»Ÿè®¾ç½®

**æŠ€æœ¯æ–¹æ¡ˆï¼š**
- æ–°å¢ç®¡ç†å‘˜è§’è‰²ï¼ˆROLE_ADMINï¼‰
- åˆ›å»ºç‹¬ç«‹çš„ç®¡ç†åå°è·¯ç”±ï¼ˆ/adminï¼‰
- ä½¿ç”¨React Adminæˆ–Ant Design Proæ¡†æ¶
- å®ç°ç»†ç²’åº¦æƒé™æ§åˆ¶

### 2. Elasticsearché›†æˆ
**åŠŸèƒ½éœ€æ±‚ï¼š**
- å…¨æ–‡æ£€ç´¢ï¼ˆæ”¯æŒä¸­æ–‡åˆ†è¯ï¼‰
- é«˜äº®æ˜¾ç¤ºæœç´¢ç»“æœ
- æœç´¢å»ºè®®/è‡ªåŠ¨è¡¥å…¨
- ç›¸å…³æ–‡ç« æ¨è

**æŠ€æœ¯æ–¹æ¡ˆï¼š**
```xml
<!-- æ·»åŠ Elasticsearchä¾èµ– -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-elasticsearch</artifactId>
</dependency>
```

**ä¸­æ–‡åˆ†è¯é…ç½®ï¼š**
```json
{
  "settings": {
    "analysis": {
      "analyzer": {
        "ik_max_word_analyzer": {
          "type": "custom",
          "tokenizer": "ik_max_word"
        }
      }
    }
  }
}
```

### 3. é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ
**åŠŸèƒ½éœ€æ±‚ï¼š**
- æ–°è¯„è®ºé€šçŸ¥
- è¯„è®ºå›å¤é€šçŸ¥
- æ–°ç²‰ä¸é€šçŸ¥
- ç³»ç»Ÿæ¶ˆæ¯é€šçŸ¥

**æŠ€æœ¯æ–¹æ¡ˆï¼š**
```xml
<!-- æ·»åŠ é‚®ä»¶ä¾èµ– -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-mail</artifactId>
</dependency>
```

**é…ç½®ç¤ºä¾‹ï¼š**
```yaml
spring:
  mail:
    host: smtp.gmail.com
    port: 587
    username: your-email@gmail.com
    password: your-app-password
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
```

---

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

#### åç«¯å¯åŠ¨
```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd backend

# 2. ç¼–è¯‘é¡¹ç›®
mvn clean install

# 3. å¯åŠ¨åº”ç”¨
mvn spring-boot:run

# åç«¯æœåŠ¡è¿è¡Œåœ¨ http://localhost:8080
```

#### å‰ç«¯å¯åŠ¨
```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# å‰ç«¯æœåŠ¡è¿è¡Œåœ¨ http://localhost:3000
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### ä½¿ç”¨Dockeréƒ¨ç½²

**1. åˆ›å»ºDockerfileï¼ˆåç«¯ï¼‰**
```dockerfile
# backend/Dockerfile
FROM openjdk:17-slim
WORKDIR /app
COPY target/personal-blog-1.0.0.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "app.jar"]
```

**2. åˆ›å»ºDockerfileï¼ˆå‰ç«¯ï¼‰**
```dockerfile
# frontend/Dockerfile
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
```

**3. Docker Composeé…ç½®**
```yaml
# docker-compose.yml
version: '3.8'

services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: blog
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql

  backend:
    build: ./backend
    ports:
      - "8080:8080"
    environment:
      SPRING_DATASOURCE_URL: jdbc:mysql://mysql:3306/blog
      SPRING_DATASOURCE_USERNAME: root
      SPRING_DATASOURCE_PASSWORD: root123
    depends_on:
      - mysql

  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend

volumes:
  mysql_data:
```

**4. å¯åŠ¨æœåŠ¡**
```bash
docker-compose up -d
```

#### ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼éƒ¨ç½²

**åç«¯éƒ¨ç½²ï¼š**
```bash
# 1. æ‰“åŒ…åº”ç”¨
mvn clean package -DskipTests

# 2. ä¸Šä¼ jaråˆ°æœåŠ¡å™¨
scp target/personal-blog-1.0.0.jar user@server:/app/

# 3. å¯åŠ¨åº”ç”¨
nohup java -jar /app/personal-blog-1.0.0.jar > /app/logs/app.log 2>&1 &
```

**å‰ç«¯éƒ¨ç½²ï¼š**
```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# 2. ä¸Šä¼ distç›®å½•åˆ°æœåŠ¡å™¨
scp -r dist/* user@server:/var/www/html/

# 3. é…ç½®Nginx
server {
    listen 80;
    server_name yourdomain.com;
    root /var/www/html;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://localhost:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### æ•°æ®åº“ä¼˜åŒ–

#### 1. ç´¢å¼•ä¼˜åŒ–
```sql
-- å¤åˆç´¢å¼•
CREATE INDEX idx_published_created ON posts(published, created_at DESC);
CREATE INDEX idx_author_published ON posts(author_id, published);

-- è¦†ç›–ç´¢å¼•
CREATE INDEX idx_post_stats ON posts(id, title, views, created_at);
```

#### 2. æŸ¥è¯¢ä¼˜åŒ–
```java
// ä½¿ç”¨åˆ†é¡µé¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®
PageRequest pageRequest = PageRequest.of(0, 10,
    Sort.by(Sort.Direction.DESC, "createdAt"));

// ä½¿ç”¨æŠ•å½±å‡å°‘æ•°æ®ä¼ è¾“
interface PostSummary {
    Long getId();
    String getTitle();
    LocalDateTime getCreatedAt();
}
```

#### 3. ç¼“å­˜ç­–ç•¥
```java
// ä½¿ç”¨Spring Cache
@Cacheable(value = "hotPosts", key = "#limit")
public List<PostDTO> getHotPosts(int limit) {
    return postRepository.findTop5ByPublishedTrueOrderByViewsDesc();
}

// ç¼“å­˜é…ç½®
@Configuration
@EnableCaching
public class CacheConfig {
    @Bean
    public CacheManager cacheManager() {
        SimpleCacheManager cacheManager = new SimpleCacheManager();
        cacheManager.setCaches(Arrays.asList(
            new ConcurrentMapCache("hotPosts"),
            new ConcurrentMapCache("categories")
        ));
        return cacheManager;
    }
}
```

### å‰ç«¯ä¼˜åŒ–

#### 1. ä»£ç åˆ†å‰²
```javascript
// React.lazy + Suspense
const PostDetail = React.lazy(() => import('./pages/PostDetail'));
const CreatePost = React.lazy(() => import('./pages/CreatePost'));

function App() {
  return (
    <Suspense fallback={<div>åŠ è½½ä¸­...</div>}>
      <Routes>
        <Route path="/posts/:id" element={<PostDetail />} />
        <Route path="/create" element={<CreatePost />} />
      </Routes>
    </Suspense>
  );
}
```

#### 2. å›¾ç‰‡ä¼˜åŒ–
```javascript
// æ‡’åŠ è½½
<img loading="lazy" src={post.coverImage} alt={post.title} />

// å“åº”å¼å›¾ç‰‡
<picture>
  <source media="(max-width: 768px)" srcset="small.jpg" />
  <source media="(max-width: 1200px)" srcset="medium.jpg" />
  <img src="large.jpg" alt="cover" />
</picture>
```

#### 3. è¯·æ±‚ä¼˜åŒ–
```javascript
// é˜²æŠ–æœç´¢
const debouncedSearch = useMemo(
  () => debounce((keyword) => {
    searchPosts(keyword);
  }, 500),
  []
);

// è¯·æ±‚å–æ¶ˆ
const controller = new AbortController();
axios.get('/api/posts', { signal: controller.signal });
// ç»„ä»¶å¸è½½æ—¶å–æ¶ˆè¯·æ±‚
return () => controller.abort();
```

---

## ğŸ“ è”ç³»ä¸æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- **GitHub Issues**: [æäº¤Issue](https://github.com/yourusername/blog/issues)
- **Email**: your-email@example.com

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶

---

**æœ€åæ›´æ–°ï¼š** 2025å¹´1æœˆ
**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.2.0
